<script src="https://d1dewqfmv9j5d4.cloudfront.net/gamedevtv-header.js"></script>


<script>
    document.addEventListener("DOMContentLoaded", registerSubtreeInterception); 

    function registerSubtreeInterception()
    {
        var callback = function(mutationsList, observer) {
            modifyTagLinksOnly();
        };
        
        function modifyTagLinksOnly() {  // Does not modify within drop-down
            // TODO Consider if we really need nested loops
            for(var tagList of document.getElementsByClassName("discourse-tags")) {
                for (var tag of tagList.getElementsByClassName("discourse-tag")) {
                    if (tag.innerText[3] === "_") // TODO Weak, use Regex
                    {
                        if (document.getElementById("topic-title"))
                        {
                            tag.innerText = "All Lecture Posts";
                            // TODO add 2nd link to all our courses (https://www.udemy.com/user/gamedevtv)
                        }
                        else
                        {
                            tag.remove();
                        }
                    }
                }
            }
        }
        
        var observer = new MutationObserver(callback);
        var config = { attributes: false, childList: true, subtree: true };  // childList for post view, subtree for lists
        observer.observe(document.body, config);
    }
</script>
